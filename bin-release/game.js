window.onload=function(){"use strict";function a(){function a(a,b,c,h){var i=4;C(kb,yb,xb,2),kb.beginPath(),kb.moveTo(a(-i),b(-i)),kb.lineTo(a(V+W),b(-i)),kb.lineTo(a(V+W),b(V)),kb.arcTo(a(V+W),b(V+W),a(V),b(V+W),W),kb.lineTo(a(-i),b(V+W)),kb.closePath(),kb.fill(),kb.stroke(),k(l(a(V),b(V),W,Fb)),k(m(a(0),b(V+W),a(V),b(V+W),Fb)),k(m(a(V+W),b(0),a(V+W),b(V),Fb));var j=a==r?f:g;kb.font="64px sans-serif",kb.textAlign="center",kb.textBaseline="middle",C(kb,Bb[c][1]),kb.fillText(R(j),a(V+W+130)-2,b(50)-3),C(kb,Bb[h][1]),j=b==r?d:e,kb.fillText(R(j),a(50)-2,b(V+W+130)-3),kb.font="16px sans-serif",kb.textAlign="center",kb.textBaseline="middle",C(kb,Bb[c][1]),kb.fillText(Qb[c],a(V+W+30),b(12)),C(kb,Bb[h][1]),kb.fillText(Qb[h],a(16),b(V+W+12))}var b=A(gb,gb),c=B(b);D(c,0,0,gb,gb,ub),D(c,0,0,gb-1,gb-1,vb),D(c,0,0,gb-2,gb-2,tb),D(kb,0,0,eb,eb,b),kb.globalAlpha=.1,D(kb,0,eb-V-2,eb,V,Bb[Lb][1]),D(kb,eb-V-2,0,V,eb,Bb[Mb][1]),D(kb,0,0,eb,V,Bb[Nb][1]),D(kb,0,0,V,eb,Bb[Ob][1]),kb.globalAlpha=1,kb.globalCompositeOperation="source-over",C(kb,tb,wb,2),G(kb,0,0,eb,eb),G(kb,eb,0,0,eb),F(kb,fb,fb,8,S,S);var d=8679,e=8681,f=8678,g=8680;a(r,r,2,3),a(r,s,0,3),a(s,r,2,1),a(s,s,0,1);var h=ib,i=h/2;sb.translate(4,4),C(sb,"#aef","#5af",2),sb.beginPath(),sb.moveTo(i,0),sb.quadraticCurveTo(h,-3,h,i),sb.quadraticCurveTo(h,h+1,i,h-2),sb.quadraticCurveTo(2,h,0,i),sb.quadraticCurveTo(-3,-1,i,0),sb.fill(),sb.stroke(),C(sb,T,"#fff",2),G(sb,8,4,4,20),G(sb,16,2,8,26,0,1),G(sb,36,14,18,36,0,1),G(sb,38,18,26,36,0,2),C(sb,T,"#58f",2),G(sb,i-4,10,i-4,18),G(sb,i+4,10,i+4,18),sb.translate(h+8,0),C(sb,"#fa0","#f00",2),sb.beginPath(),sb.moveTo(i,-4),sb.lineTo(i+6,14),sb.lineTo(h-4,8),sb.quadraticCurveTo(h,h+3,i,h-2),sb.quadraticCurveTo(2,h,4,8),sb.lineTo(i-6,14),sb.lineTo(i,-4),sb.fill(),sb.stroke(),G(sb,i-3,26,i-8,20),G(sb,i+3,26,i+8,20),sb.translate(h+8,0),C(sb,"#fd7","#d72",2),sb.beginPath(),sb.moveTo(i,0),sb.quadraticCurveTo(h,10,h-8,h-8),sb.quadraticCurveTo(h,h+1,i+2,h-6),sb.quadraticCurveTo(14,h-12,2,h-4),sb.quadraticCurveTo(-2,h-10,4,i),sb.quadraticCurveTo(0,0,i,0),sb.fill(),sb.stroke(),C(sb,"#d72"),F(sb,10,7,1,S),F(sb,24,9,1,S),F(sb,7,20,1,S),F(sb,20,14,1,S),F(sb,8,30,1,S),F(sb,28,32,1,S),C(sb,"#000","#d72",1);for(var j=0;2>j;j++){var n;0===j?(sb.globalCompositeOperation="destination-out",n=S):(sb.globalCompositeOperation="source-over",n=T),sb.scale(1,1.5),F(sb,13,14,4,n,S),sb.scale(1,2/3),sb.scale(1,1.5),F(sb,26,14,4,n,S),sb.scale(1,2/3)}sb.translate(h+8,0),sb.lineCap="round",C(sb,0,"#fff",2),F(sb,i,i,i-4,T,S),C(0,0,1),sb.beginPath(),sb.arc(i,i,i-8,3.2,4.4),sb.stroke(),F(sb,i-4,i+4,4,T,S),F(sb,i+4,i+4,4,T,S)}function b(){bc=0,_b=!1,Sb=[],Tb=[],Tb.n=0,a(),i()}function c(){if(!_b)if(oc.right||nc.space)ac>bc&&bc++;else if(bc>0){var a=.1+.9*bc/ac,b=ic+jc*a;Vb.boostX=b*N.cos(dc),Vb.boostY=b*N.sin(dc),Vb.boostCpt=gc+hc*a,_b=!0}for(var c=0;c<Wb.length;c++){var d,e=Wb[c],f=!e.mirror;d=1==e.elt?f?nc.up||nc.right:nc.down||nc.left:f?nc.up||nc.left:nc.down||nc.right;var g=e.ux,h=e.uy;e.cpt=e.cpt||0;var i=9;if(e.max=!1,d?e.cpt<i?e.cpt++:e.max=!0:e.cpt>0&&e.cpt--,e.prevX2=e.x2,e.prevY2=e.y2,e.movingUp=d&&!e.max,e.moving=0!==e.cpt,e.cpt>0){var j=e.amax*(e.cpt/i);e.mirror&&(j*=-1);var k=N.cos(j),l=N.sin(j);g=e.ux*k-e.uy*l,h=e.ux*l+e.uy*k}e._ux=g,e._uy=h,e.x2=e.x+g,e.y2=e.y+h}oc.middle&&(bc=0,_b=!0,Vb.x=oc.x,Vb.y=oc.y,Vb.v.x=Vb.v.y=0,Vb.boostCpt=0,oc.middle=!1),oc.left&&kc&&(mc.x=oc.x-Vb.x,mc.y=oc.y-Vb.y,v(mc,ic+.5*jc),Vb.v.x=mc.x,Vb.v.y=mc.y,Vb.boostCpt=gc+.5*hc,Vb.boostX=Vb.v.x,Vb.boostY=Vb.v.y,kc=0,oc.left=!1)}function d(){var a,b,c,d;for(b=Xb.length,d=Xb.length+Tb.n,a=0;d>a;a++)c=b>a?Xb[a]:Tb[a-b],c.a+=c.da,c.x=fb+N.cos(c.a)*c.d,c.y=fb+N.sin(c.a)*c.d;if(_b){var e=0,f=0,g=fc,h=ec;A=fb-Vb.x,B=fb-Vb.y;var i=Y/2,j=u(A,B);i>j&&(A/=j,B/=j,g*=.1+.9*j/i,h*=.5+.5*j/i);var k=Vb.x-fb,l=Vb.y-fb;l>k?l>-k?f=g:e=-g:l>-k?e=g:f=-g,Vb.v.x+=e,Vb.v.y+=f,Vb.boostCpt>0&&(Vb.boostCpt--,Vb.v.x+=Vb.boostX,Vb.v.y+=Vb.boostY),Vb.v.x*Vb.v.x+Vb.v.y*Vb.v.y>h*h&&v(Vb.v,h),Vb.x+=Vb.v.x,Vb.y+=Vb.v.y,Vb.collide=!1;{Vb.v.x,Vb.v.y}for(d=Sb.length,b=d+Tb.n,a=0;b>a;a++)if(c=d>a?Sb[a]:Tb[a-d],c!=Vb){c.collide=!1;var m,n=mc;if(c.shape==Cb){if(w(Vb,c)){if(c.kind==Jb){if(Rb[Vb.elt]==c.elt&&(c.dead=!0),c.dead)continue;c.elt!=Vb.elt&&(Vb.elt=Pb)}c.collide=!0,n.x=Vb.x-c.x,mc.y=Vb.y-c.y,m=u(n.x,n.y),n.l=c.r+Vb.r-m,n.x=n.x/m,n.y=n.y/m}}else if(c.shape==Db){var o=c.kind==Ib&&c.movingUp;if(!o&&x(Vb,c,n)){c.collide=!0,y(lc,c.x,c.y,c.x2,c.y2);var p=z(lc,Vb.x,Vb.y)!==z(lc,Vb.prevX,Vb.prevY);0>=p?m=Vb.r-n.l:(m=Vb.r+n.l,n.x*=-1,n.y*=-1),n.x/=n.l,n.y/=n.l,n.l=m}if(o){var q,r,s=x(Vb,c,n),t=1==c.elt||3==c.elt;if(s||(y(lc,c.x,c.y,c.prevX2,c.prevY2),q=z(lc,Vb.prevX,Vb.prevY,t),y(lc,c.x,c.y,c.x2,c.y2),r=z(lc,Vb.x,Vb.y,t)),s||q!==r){var A=Vb.x-c.x,B=Vb.y-c.y,C=A*c._ux+B*c._uy;if((s||C>0)&&(s||A*A+B*B<c.l*c.l)){c.collide=!0;var D=(u(A,B),C/c.l);n.x=c.x+D*c._ux/c.l,n.y=c.y+D*c._uy/c.l,n.x=Vb.x-n.x,n.y=Vb.y-n.y,n.l=u(n.x,n.y),n.x/=n.l,n.y/=n.l;var E=c._uy/c.l,F=-c._ux/c.l;(c.mirror&&(0===c.elt||3==c.elt)||!c.mirror&&(1==c.elt||2==c.elt))&&(E*=-1,F*=-1);var G=E*n.x+F*n.y;0>G&&(n.x*=-1,n.y*=-1),n.l=n.l+Vb.r,Vb.x+=n.x*n.l,Vb.y+=n.y*n.l,Vb.collide=!0;var H=D/c.l;H=.1+.9*(.3*H+.7*H*H);var I=gc+H*hc>>0,J=ic+jc*H,K=n.x*J,L=n.y*J;Vb.boostCpt?(Vb.boostCpt=I,Vb.boostX=.2*K+Vb.boostX,Vb.boostY=.2*L+Vb.boostY):(console.log("============="),Vb.boostCpt=I,Vb.boostX=K,Vb.boostY=L),console.log("boostRatio",H,Vb.boostCpt,"=>",Vb.boostX,Vb.boostY),Vb.boostX*=.8+.4*Q(),Vb.boostY*=.8+.4*Q(),Vb.elt=c.elt,kc=!0;continue}}}}if(c.collide){Vb.collide=!0,c.colCpt=20,Vb.x+=n.x*n.l,Vb.y+=n.y*n.l;var M=u(Vb.v.x,Vb.v.y),O=Vb.v.x/M,P=Vb.v.y/M,R=-n.y,S=n.x,T=R*O+S*P;0>T&&(R=-R,S=-S);var U=O*n.x+P*n.y;0>U&&(U=-U);var V=N.sin(N.acos(U));0>V&&(V=-V);var W=.2;c.kind==Gb?(W=1.1,kc=!0):c.kind==Jb&&(W=1.1),n.x*=U*W*M,n.y*=U*W*M,R*=V*M,S*=V*M,Vb.v.x=n.x+R,Vb.v.y=n.y+S}}Vb.prevX=Vb.x,Vb.prevY=Vb.y}var X,Z=(Zb+$b)*(Zb+$b),$=(Zb-Yb)*(Zb-Yb);for(a=0;a<Ub.n;a++){X=Ub[a];var _=X.x-Vb.x,ab=X.y-Vb.y,bb=_*_+ab*ab;if(Z>bb)X.m=null,Ub[a]=Ub[Ub.n-1],Ub[Ub.n-1]=X,a--,Ub.n--;else if(X.m)X.m.dead?X.m=null:(X.x=X.m.x+X.dx,X.y=X.m.y+X.dy);else for(var cb=0;cb<Tb.n;cb++){var db=Tb[cb];_=X.x-db.x,ab=X.y-db.y,bb=_*_+ab*ab,$>bb&&(X.m=db,X.dx=_,X.dy=ab)}}}function e(){bb=_,cb=ab;var a=Vb.x,b=Vb.y,c=a-fb,d=b-fb,e=c,f=d;0>e&&(e*=-1),0>f&&(f*=-1);var g=U/2+W;if(g>e&&g>f){var h=e-g,i=f-g,j=h*h+i*i;if(g*g>j){var k=P(j);h=h*g/k,i=i*g/k,a=h+g,b=i+g,0>c&&(a=-a),0>d&&(b=-b),a=fb+a,b=fb+b}}else f>e?a=fb:b=fb;a=t(a,Vb.x-.3*Y,Vb.x+.3*Y),b=t(b,Vb.y-.3*Z,Vb.y+.3*Z),a=t(a-Y/2,0,eb-Y),b=t(b-Z/2,0,eb-Z),_b?(_+=.3*(a-_),ab+=.3*(b-ab)):(_=a,ab=b)}function f(){var a=_b;H(mb),H(qb),a?(E(mb,nb,0,0),ob.clearRect(0,0,Y,Z),ob.save(),ob.globalAlpha=.9,E(ob,lb,-_+bb,-ab+cb),ob.restore(),H(mb),C(ob,Bb[Vb.elt][1]),Vb.boostCpt>0?F(ob,Vb.prevX-_,Vb.prevY-ab,6,S):F(ob,Vb.x-_,Vb.y-ab,2,S)):H(ob),Ub.cpt++;var b=170+34*N.cos(Ub.cpt/20)>>0;b=b.toString(16),C(qb,null,"#"+b+b+"00",2);var c,d,e=2*O,f=_-$b,g=_+Y+$b,h=ab-$b,i=ab+Y+$b;for(m=0;m<Ub.n;m++){var j=Ub[m];c=j.x,d=j.y,c>f&&g>c&&d>h&&i>d&&(qb.beginPath(),qb.arc(c-_,d-ab,$b,0,e),qb.stroke())}for(var k,l,m=0,n=Sb.length;n>m;m++){var o,p=Sb[m],q=p.x-_,r=p.y-ab;p!=Vb&&(p.shape==Cb?p.kind==Gb&&(p.colCpt>0?(p.colCpt--,o=zb):o=xb,C(qb,"#000",o,2),F(qb,q,r,p.r,S,S)):p.shape==Db&&p.kind!=Fb&&(o=xb,p.kind==Ib&&(o=Bb[p.elt][1]),C(qb,0,o,2),G(qb,p.x-_,p.y-ab,p.x2-_,p.y2-ab)))}if(Vb){var s;_b?(s=N.atan2(Vb.v.y,Vb.v.x),cc=0):(s=Vb.sa,cc+=.05),Vb.cpt=++Vb.cpt%20;var u=Vb.cpt;if(u>10&&(u=20-u),_b||(u=2+8*(bc/ac)>>0,s+=N.cos(cc)*O/3,dc=s),u*=.3*O/10,k=0,l=0,bc>0&&!_b){var v=4*t(bc/ac,0,1)>>0;k=v*Q()>>0,l=v*Q()>>0}kc&&(qb.save(),qb.translate(Vb.x-_+k,Vb.y-ab+l),qb.rotate(s),C(qb,"#fff","#000",1),qb.beginPath(),qb.arc(-10,0,20,0,2.2),qb.lineTo(0,0),qb.arc(-10,0,20,-0,-2.2,!0),qb.lineTo(0,0),qb.closePath(),qb.fill(),qb.stroke(),qb.globalCompositeOperation="destination-out",F(qb,0,0,Zb,"#fff"),qb.restore()),C(qb,Bb[Vb.elt][0],Bb[Vb.elt][1],2),0===u?F(qb,Vb.x-_+k,Vb.y-ab+l,Zb,S,S):(qb.beginPath(),qb.arc(Vb.x-_+k,Vb.y-ab+l,Vb.r,s+u,s-u),qb.lineTo(Vb.x-_+k,Vb.y-ab+l),qb.closePath(),qb.fill(),qb.stroke())}var w=ib+2*hb;for(m=0;m<Tb.n;m++){var x=Tb[m],y=1;if(x.dead){if(x.cpt-=10,x.cpt<=0){y=Tb[Tb.n-1],Tb[m]=y,Tb[Tb.n-1]=x,Tb.n--,m--;continue}y=x.cpt/50}else x.cpt<50&&(x.cpt++,y=x.cpt/50);var z=Rb[Vb.elt]==x.elt,A=Vb.elt==x.elt;C(qb,A?yb:z?Bb[x.elt][0]:Ab,A?xb:Ab,2),qb.globalAlpha=y*(A?1:z?.2:.5),F(qb,x.x-_,x.y-ab,x.r,S),x.elt==Ob&&(qb.globalAlpha=1,qb.globalCompositeOperation="destination-out",F(qb,x.x-_,x.y-ab,17,S),qb.globalCompositeOperation="source-over"),qb.globalAlpha=y,z||F(qb,x.x-_,x.y-ab,x.r,T,S),qb.globalAlpha=y*(A?.4:z?.7:1),k=0,l=0,z&&(k=3*(N.random()-.5),l=3*(N.random()-.5)),A&&(qb.globalAlpha=.4*y),qb.drawImage(rb,x.elt*w,0,w,w,x.x-w/2-_+k,x.y-w/2-ab+l,w,w)}qb.globalAlpha=1,E(mb,jb,-_,-ab),a&&E(mb,nb,0,0),E(mb,pb,0,0)}function g(){for(var a=4;Tb.n<a;){var b;Tb.length==Tb.n?(b=j(Cb,Jb),Tb.push(b),b.elt=Tb.n%4,b.r=Yb):b=Tb[Tb.n],Tb.n++;var c=Xb[b.elt];b.x=c.x,b.y=c.y,b.cpt=0,b.dead=0,b.da=-2*c.da,b.a=c.a,b.d=c.d}var d=!1;Vb.x+Zb<0?(d=!0,Vb.x=50,Vb.y=fb,Vb.sa=0):Vb.x-Zb>eb?(d=!0,Vb.x=eb-50,Vb.y=fb,Vb.sa=-O):Vb.y+Zb<0?(d=!0,Vb.y=50,Vb.x=fb,Vb.sa=O/2):Vb.y-Zb>eb&&(d=!0,Vb.y=eb-50,Vb.x=fb,Vb.sa=-O/2),d&&(_b=!1,bc=0,Vb.elt=Pb,Vb.v.x=0,Vb.v.y=0)}function h(){stb&&stb(),c(),d(),e(),f(),g(),ste&&ste(),window.requestAnimationFrame(h)}function i(){kc=!1,Vb=k(l(fb,eb-50,Zb,Eb)),Vb.v={x:0,y:0},Vb.cpt=0,Vb.elt=Pb,Vb.sa=-O/2,o(m(0,220,150,100,Hb)),Xb=[];var a,b,c,d=4;for(b=0;d>b;b++){var e=Yb+4,f=2*e+(X-2*e)*b/d>>0,g=2*Q()*O;a=l(0,0,e,Gb),Xb.push(k(a));var h=(.2+.2*Q())*(Q()>.5?-1:1);a.da=h/f,a.a=g,a.d=f}for(b=1;d>b;b++)for(c=0;b>c;c++)a=q(Xb[b]),a.a+=2*O*(c+1)/(b+1),Xb.push(k(a));o(m(150,100,300,30,Ib)),Wb=Sb.slice(-8);var i=Wb[0],n=u(i.x-i.x2,i.y-i.y2),p=2*-N.acos((i.x2-i.x)/n);for(b=0;b<Wb.length;b++)i=Wb[b],i.l=n,i.ux=i.x2-i.x,i.uy=i.y2-i.y,i.amax=p,(1==i.elt||2==i.elt)&&(i.amax*=-1);Ub=[],Ub.n=0,Ub.cpt=0;var r,s,t=6,v=11,w=N.random()*O;for(b=1;t>=b;b++)for(c=1;v>=c;c++)s=2*O*(c/v)+.1*b+w,r=j(Cb,Kb),r.r=$b,Ub[Ub.n]=r,Ub.n++,r.x=fb+N.cos(s)*b*db/t,r.y=fb+N.sin(s)*b*db/t}function j(a,b,c,d){return{x:c||0,y:d||0,shape:a,kind:b}}function k(a){return Sb.push(a),a}function l(a,b,c,d){var e=j(Cb,d,a,b);return e.r=c,e}function m(a,b,c,d,e){var f=j(Db,e,a,b);return f.x2=c,f.y2=d,f}function n(a){for(var b=0;4>b;b++){var c=q(a);p(c,"x","y",b),c.shape==Db&&p(c,"x2","y2",b),k(c),c.elt=b}}function o(a){n(a),a.x=U-a.x,a.shape==Db&&(a.x2=U-a.x2),a.mirror=!0,n(a)}function p(a,b,c,d){var e=a[b],f=a[c];if(0===d||2==d)e+=V+W,0===d&&(f=eb-f);else{var g=f;f=V+W+e,e=g,1==d&&(e=eb-e)}a[b]=e>>0,a[c]=f>>0}function q(a){return JSON.parse(JSON.stringify(a))}function r(a){return a}function s(a){return eb-a}function t(a,b,c){return b>a?b:a>c?c:a}function u(a,b){return P(a*a+b*b)}function v(a,b){b=(b||1)/u(a.x,a.y),a.x*=b,a.y*=b}function w(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.r+b.r;return e*e>c*c+d*d}function x(a,b,c){var d=a.x,e=a.y,f=a.r,g=b.x,h=b.y,i=b.x2,j=b.y2,k=i-g,l=j-h,m=N.sqrt(k*k+l*l),n=(i-g)/m,o=(j-h)/m,p=n*(d-g)+o*(e-h),q=p*n+g,r=p*o+h;if((i>g&&q>=g&&i>=q||g>i&&q>=i&&g>=q||g==i&&q==g)&&(j>h&&r>=h&&j>=r||h>j&&r>=j&&h>=r||h==j&&r==h)){var s=r-e,t=q-d,u=P(t*t+s*s);if(f>=u)return c.ex=q,c.ey=r,c.x=-t,c.y=-s,c.l=u,!0}return!1}function y(a,b,c,d,e){b==d?(a.vert=!0,a.x=b):(a.vert=!1,a.m=(c-e)/(b-d),a.p=c-a.m*b)}function z(a,b,c,d){return a.vert?b<a.x:d?b>(c-a.p)/a.m:c>a.m*b+a.p}function A(a,b){var c=L.createElement("canvas");return c.width=a,c.height=b,c}function B(a){return a.getContext("2d")}function C(a,b,c,d){b&&(a.fillStyle=b),c&&(a.strokeStyle=c),d&&(a.lineWidth=d)}function D(a,b,c,d,e,f){f&&(f.width&&(f=a.createPattern(f,"repeat")),C(a,f)),a.fillRect(b,c,d,e)}function E(a,b,c,d){a.drawImage(b,c,d)}function F(a,b,c,d,e,f){a.beginPath(),a.arc(b,c,d,0,2*O,!1),e&&a.fill(),f&&a.stroke()}function G(a,b,c,d,e){a.beginPath(),a.moveTo(b,c),a.lineTo(d,e),a.stroke()}function H(a){a.clearRect(0,0,Y,Z)}function I(a,b){b||(b=window.e);var c=b.keyCode;b.charCode&&!c&&(c=b.charCode),nc[pc[c]]=a}function J(a,b){var c,d;"which"in b?(c=3==b.which,d=2==b.which):"button"in b&&(c=2==b.button,d=1==b.button),c?oc.right=a:d?oc.middle=a:oc.left=a,oc.x=b.clientX+_,oc.y=b.clientY+ab}var K=window,L=K.document,M=L.body,N=K.Math,O=N.PI,P=N.sqrt,Q=N.random,R=String.fromCharCode,S=!0,T=!1,U=700,V=220,W=200,X=W+U/2;X=u(X,X)-W>>0;var Y,Z,$,_,ab,bb,cb,db=(U/2+u(U/2,U/2))/2,eb=U+2*V+2*W,fb=eb/2,gb=20,hb=4,ib=40,jb=A(eb,eb),kb=B(jb),lb=A(),mb=B(lb),nb=A(),ob=B(nb),pb=A(),qb=B(pb),rb=A(4*(ib+2*hb),ib+2*hb),sb=B(rb);window.onresize=function(){Y=t(K.innerWidth,U,eb),Z=t(K.innerHeight,U,eb),$=N.min(Y,Z),pb.width=nb.width=lb.width=Y-=Y%2,pb.height=nb.height=lb.height=Z-=Z%2},M.onresize(),M.appendChild(lb);var tb="#111",ub="#222",vb="#333",wb="#444",xb="#08e",yb="#000",zb="#0d0",Ab="#f02",Bb=[["#aef","#5af"],["#fa0","#f53"],["#a64","#864","#fd7"],["rgba(255,255,255,0.5","#fff","#fff"],["#ff6","#555"]],Cb="c",Db="l",Eb="b",Fb="bg",Gb="bp",Hb="o",Ib="p",Jb="m",Kb="ring",Lb=0,Mb=1,Nb=2,Ob=3,Pb=4,Qb=["Water","Fire","Earth","Air"],Rb={};Rb[Lb]=Mb,Rb[Mb]=Lb,Rb[Nb]=Ob,Rb[Ob]=Nb;var Sb,Tb,Ub,Vb,Wb,Xb,Yb=38,Zb=14,$b=6,_b=!1,ac=100,bc=0,cc=0,dc=0,ec=10,fc=.2,gc=1,hc=12,ic=.2*ec,jc=.8*ec,kc=!1,lc={},mc={},nc={},oc={};b(),h();var pc={37:"left",65:"left",81:"left",38:"up",90:"up",87:"up",83:"down",40:"down",39:"right",68:"right",32:"space",27:"esc",13:"Enter"};L.onkeyup=function(a){I(!1,a),27==a.keyCode&&(window._stopped?(window._stopped=!1,window.requestAnimationFrame=window._raf):(window._stopped=!0,window._raf=window.requestAnimationFrame,window.requestAnimationFrame=function(){})),13==a.keyCode&&window._stopped&&h()},L.onkeydown=function(a){I(!0,a)},L.onmousedown=function(a){J(!0,a)},L.onmouseup=function(a){J(!1,a)},L.onmousemove=function(a){oc.x=a.clientX+_,oc.y=a.clientY+ab},L.oncontextmenu=function(){return!1}};