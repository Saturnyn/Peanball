window.onload=function(){"use strict";function a(){function a(a,b,c,h){var i=4;C(hb,yb,xb,2),hb.beginPath(),hb.moveTo(a(-i),b(-i)),hb.lineTo(a(V+W),b(-i)),hb.lineTo(a(V+W),b(V)),hb.arcTo(a(V+W),b(V+W),a(V),b(V+W),W),hb.lineTo(a(-i),b(V+W)),hb.closePath(),hb.fill(),hb.stroke(),k(l(a(V),b(V),W,Eb)),k(m(a(0),b(V+W),a(V),b(V+W),Eb)),k(m(a(V+W),b(0),a(V+W),b(V),Eb));var j=a==r?f:g;hb.font="64px sans-serif",hb.textAlign="center",hb.textBaseline="middle",C(hb,Ab[c][1]),hb.fillText(R(j),a(V+W+130)-2,b(50)-3),C(hb,Ab[h][1]),j=b==r?d:e,hb.fillText(R(j),a(50)-2,b(V+W+130)-3),hb.font="16px sans-serif",hb.textAlign="center",hb.textBaseline="middle",C(hb,Ab[c][1]),hb.fillText(Pb[c],a(V+W+30),b(12)),C(hb,Ab[h][1]),hb.fillText(Pb[h],a(16),b(V+W+12))}var b=A(fb,fb),c=B(b);D(c,0,0,fb,fb,ub),D(c,0,0,fb-1,fb-1,vb),D(c,0,0,fb-2,fb-2,tb),D(hb,0,0,db,db,b),hb.globalAlpha=.1,D(hb,0,db-V-2,db,V,Ab[Kb][1]),D(hb,db-V-2,0,V,db,Ab[Lb][1]),D(hb,0,0,db,V,Ab[Mb][1]),D(hb,0,0,V,db,Ab[Nb][1]),hb.globalAlpha=1,hb.globalCompositeOperation="source-over",C(hb,tb,wb,2),G(hb,0,0,db,db),G(hb,db,0,0,db),F(hb,eb,eb,8,S,S);var d=8679,e=8681,f=8678,g=8680;a(r,r,2,3),a(r,s,0,3),a(s,r,2,1),a(s,s,0,1);var h=pb,i=h/2;sb.translate(4,4),C(sb,"#aef","#5af",2),sb.beginPath(),sb.moveTo(i,0),sb.quadraticCurveTo(h,-3,h,i),sb.quadraticCurveTo(h,h+1,i,h-2),sb.quadraticCurveTo(2,h,0,i),sb.quadraticCurveTo(-3,-1,i,0),sb.fill(),sb.stroke(),C(sb,T,"#fff",2),G(sb,8,4,4,20),G(sb,16,2,8,26,0,1),G(sb,36,14,18,36,0,1),G(sb,38,18,26,36,0,2),C(sb,T,"#58f",2),G(sb,i-4,10,i-4,18),G(sb,i+4,10,i+4,18),sb.translate(h+8,0),C(sb,"#fa0","#f00",2),sb.beginPath(),sb.moveTo(i,-4),sb.lineTo(i+6,14),sb.lineTo(h-4,8),sb.quadraticCurveTo(h,h+3,i,h-2),sb.quadraticCurveTo(2,h,4,8),sb.lineTo(i-6,14),sb.lineTo(i,-4),sb.fill(),sb.stroke(),G(sb,i-3,26,i-8,20),G(sb,i+3,26,i+8,20),sb.translate(h+8,0),C(sb,"#fd7","#d72",2),sb.beginPath(),sb.moveTo(i,0),sb.quadraticCurveTo(h,10,h-8,h-8),sb.quadraticCurveTo(h,h+1,i+2,h-6),sb.quadraticCurveTo(14,h-12,2,h-4),sb.quadraticCurveTo(-2,h-10,4,i),sb.quadraticCurveTo(0,0,i,0),sb.fill(),sb.stroke(),C(sb,"#d72"),F(sb,10,7,1,S),F(sb,24,9,1,S),F(sb,7,20,1,S),F(sb,20,14,1,S),F(sb,8,30,1,S),F(sb,28,32,1,S),C(sb,"#000","#d72",1);for(var j=0;2>j;j++){var n;0===j?(sb.globalCompositeOperation="destination-out",n=S):(sb.globalCompositeOperation="source-over",n=T),sb.scale(1,1.5),F(sb,13,14,4,n,S),sb.scale(1,2/3),sb.scale(1,1.5),F(sb,26,14,4,n,S),sb.scale(1,2/3)}sb.translate(h+8,0),sb.lineCap="round",C(sb,0,"#fff",2),F(sb,i,i,i-4,T,S),C(0,0,1),sb.beginPath(),sb.arc(i,i,i-8,3.2,4.4),sb.stroke(),F(sb,i-4,i+4,4,T,S),F(sb,i+4,i+4,4,T,S)}function b(){$b=0,Yb=!1,Rb=[],Sb=[],Sb.n=0,a(),i()}function c(){if(!Yb)if(lc.right||kc.space)Zb>$b&&$b++;else if($b>0){var a=.1+.9*$b/Zb,b=fc+gc*a;Ub.boostX=b*N.cos(ac),Ub.boostY=b*N.sin(ac),Ub.boostCpt=dc+ec*a,Yb=!0}for(var c=0;c<Vb.length;c++){var d,e=Vb[c],f=!e.mirror;d=1==e.elt?f?kc.up||kc.right:kc.down||kc.left:f?kc.up||kc.left:kc.down||kc.right;var g=e.ux,h=e.uy;e.cpt=e.cpt||0;var i=9;if(e.max=!1,d?e.cpt<i?e.cpt++:e.max=!0:e.cpt>0&&e.cpt--,e.prevX2=e.x2,e.prevY2=e.y2,e.movingUp=d&&!e.max,e.moving=0!==e.cpt,e.cpt>0){var j=e.amax*(e.cpt/i);e.mirror&&(j*=-1);var k=N.cos(j),l=N.sin(j);g=e.ux*k-e.uy*l,h=e.ux*l+e.uy*k}e._ux=g,e._uy=h,e.x2=e.x+g,e.y2=e.y+h}lc.middle&&($b=0,Yb=!0,Ub.x=lc.x,Ub.y=lc.y,Ub.v.x=Ub.v.y=0,Ub.boostCpt=0,lc.middle=!1),lc.left&&hc&&(jc.x=lc.x-Ub.x,jc.y=lc.y-Ub.y,v(jc,fc+.5*gc),Ub.v.x=jc.x,Ub.v.y=jc.y,Ub.boostCpt=dc+.5*ec,Ub.boostX=Ub.v.x,Ub.boostY=Ub.v.y,hc=0,lc.left=!1)}function d(){var a,b,c,d;for(b=Wb.length,d=Wb.length+Sb.n,a=0;d>a;a++)c=b>a?Wb[a]:Sb[a-b],c.a+=c.da,c.x=eb+N.cos(c.a)*c.d,c.y=eb+N.sin(c.a)*c.d;if(Yb){var e=0,f=0,g=cc,h=bc;A=eb-Ub.x,B=eb-Ub.y;var i=Y/2,j=u(A,B);i>j&&(A/=j,B/=j,g*=.1+.9*j/i,h*=.5+.5*j/i);var k=Ub.x-eb,l=Ub.y-eb;l>k?l>-k?f=g:e=-g:l>-k?e=g:f=-g,Ub.v.x+=e,Ub.v.y+=f,Ub.boostCpt>0&&(Ub.boostCpt--,Ub.v.x+=Ub.boostX,Ub.v.y+=Ub.boostY),Ub.v.x*Ub.v.x+Ub.v.y*Ub.v.y>h*h&&v(Ub.v,h),Ub.x+=Ub.v.x,Ub.y+=Ub.v.y,Ub.collide=!1;{Ub.v.x,Ub.v.y}for(d=Rb.length,b=d+Sb.n,a=0;b>a;a++)if(c=d>a?Rb[a]:Sb[a-d],c!=Ub){c.collide=!1;var m,n=jc;if(c.shape==Bb){if(w(Ub,c)){if(c.kind==Ib){if(Qb[Ub.elt]==c.elt&&(c.dead=!0),c.dead||c.elt==Ub.elt)continue;c.elt!=Ub.elt&&(Ub.elt=Ob)}c.collide=!0,n.x=Ub.x-c.x,jc.y=Ub.y-c.y,m=u(n.x,n.y),n.l=c.r+Ub.r-m,n.x=n.x/m,n.y=n.y/m}}else if(c.shape==Cb){var o=c.kind==Hb&&c.movingUp;if(!o&&x(Ub,c,n)){c.collide=!0,y(ic,c.x,c.y,c.x2,c.y2);var p=z(ic,Ub.x,Ub.y)!==z(ic,Ub.prevX,Ub.prevY);0>=p?m=Ub.r-n.l:(m=Ub.r+n.l,n.x*=-1,n.y*=-1),n.x/=n.l,n.y/=n.l,n.l=m}if(o){var q,r,s=x(Ub,c,n),t=1==c.elt||3==c.elt;if(s||(y(ic,c.x,c.y,c.prevX2,c.prevY2),q=z(ic,Ub.prevX,Ub.prevY,t),y(ic,c.x,c.y,c.x2,c.y2),r=z(ic,Ub.x,Ub.y,t)),s||q!==r){var A=Ub.x-c.x,B=Ub.y-c.y,C=A*c._ux+B*c._uy;if((s||C>0)&&(s||A*A+B*B<c.l*c.l)){c.collide=!0;var D=(u(A,B),C/c.l);n.x=c.x+D*c._ux/c.l,n.y=c.y+D*c._uy/c.l,n.x=Ub.x-n.x,n.y=Ub.y-n.y,n.l=u(n.x,n.y),n.x/=n.l,n.y/=n.l;var E=c._uy/c.l,F=-c._ux/c.l;(c.mirror&&(0===c.elt||3==c.elt)||!c.mirror&&(1==c.elt||2==c.elt))&&(E*=-1,F*=-1);var G=E*n.x+F*n.y;0>G&&(n.x*=-1,n.y*=-1),n.l=n.l+Ub.r,Ub.x+=n.x*n.l,Ub.y+=n.y*n.l,Ub.collide=!0;var H=D/c.l;H=.1+.9*(.3*H+.7*H*H);var I=dc+H*ec>>0,J=fc+gc*H,K=n.x*J,L=n.y*J;Ub.boostCpt?(Ub.boostCpt=I,Ub.boostX=.2*K+Ub.boostX,Ub.boostY=.2*L+Ub.boostY):(console.log("============="),Ub.boostCpt=I,Ub.boostX=K,Ub.boostY=L),console.log("boostRatio",H,Ub.boostCpt,"=>",Ub.boostX,Ub.boostY),Ub.boostX*=.8+.4*Q(),Ub.boostY*=.8+.4*Q(),Ub.elt=c.elt,hc=!0;continue}}}}if(c.collide){Ub.collide=!0,c.colCpt=20,Ub.x+=n.x*n.l,Ub.y+=n.y*n.l;var M=u(Ub.v.x,Ub.v.y),O=Ub.v.x/M,P=Ub.v.y/M,R=-n.y,S=n.x,T=R*O+S*P;0>T&&(R=-R,S=-S);var U=O*n.x+P*n.y;0>U&&(U=-U);var V=N.sin(N.acos(U));0>V&&(V=-V);var W=.2;c.kind==Fb?(W=1.3,hc=!0):c.kind==Ib&&(W=c.elt==Ub.elt?1.5:.5),n.x*=U*W*M,n.y*=U*W*M,R*=V*M,S*=V*M,Ub.v.x=n.x+R,Ub.v.y=n.y+S}}Ub.prevX=Ub.x,Ub.prevY=Ub.y}}function e(){bb=_,cb=ab;var a=Ub.x,b=Ub.y,c=a-eb,d=b-eb,e=c,f=d;0>e&&(e*=-1),0>f&&(f*=-1);var g=U/2+W;if(g>e&&g>f){var h=e-g,i=f-g,j=h*h+i*i;if(g*g>j){var k=P(j);h=h*g/k,i=i*g/k,a=h+g,b=i+g,0>c&&(a=-a),0>d&&(b=-b),a=eb+a,b=eb+b}}else f>e?a=eb:b=eb;a=t(a,Ub.x-.3*Y,Ub.x+.3*Y),b=t(b,Ub.y-.3*Z,Ub.y+.3*Z),a=t(a-Y/2,0,db-Y),b=t(b-Z/2,0,db-Z),Yb?(_+=.3*(a-_),ab+=.3*(b-ab)):(_=a,ab=b)}function f(){var a=Yb;H(jb),H(nb),a?(E(jb,kb,0,0),lb.clearRect(0,0,Y,Z),lb.save(),lb.globalAlpha=.9,E(lb,ib,-_+bb,-ab+cb),lb.restore(),H(jb),C(lb,Ab[Ub.elt][1]),Ub.boostCpt>0?F(lb,Ub.prevX-_,Ub.prevY-ab,6,S):F(lb,Ub.x-_,Ub.y-ab,2,S)):H(lb);for(var b,c,d=0,e=Rb.length;e>d;d++){var f,g=Rb[d],h=g.x-_,i=g.y-ab;g!=Ub&&(g.shape==Bb?g.kind==Fb&&(g.colCpt>0?(g.colCpt--,f=zb):f=xb,C(nb,"#000",f,2),F(nb,h,i,g.r,S,S)):g.shape==Cb&&g.kind!=Eb&&(f=xb,g.kind==Hb&&(f=Ab[g.elt][1]),C(nb,0,f,2),G(nb,g.x-_,g.y-ab,g.x2-_,g.y2-ab)))}if(Ub){var j;Yb?(j=N.atan2(Ub.v.y,Ub.v.x),_b=0):(j=Ub.sa,_b+=.05),Ub.cpt=++Ub.cpt%20;var k=Ub.cpt;if(k>10&&(k=20-k),Yb||(k=2+8*($b/Zb)>>0,j+=N.cos(_b)*O/3,ac=j),k*=.3*O/10,b=0,c=0,$b>0&&!Yb){var l=4*t($b/Zb,0,1)>>0;b=l*Q()>>0,c=l*Q()>>0}hc&&(nb.save(),nb.translate(Ub.x-_+b,Ub.y-ab+c),nb.rotate(j),C(nb,"#fff","#000",1),nb.beginPath(),nb.arc(-10,0,20,0,2.2),nb.lineTo(0,0),nb.arc(-10,0,20,-0,-2.2,!0),nb.lineTo(0,0),nb.closePath(),nb.fill(),nb.stroke(),nb.globalCompositeOperation="destination-out",F(nb,0,0,Xb,"#fff"),nb.restore()),C(nb,Ab[Ub.elt][0],Ab[Ub.elt][1],2),0===k?F(nb,Ub.x-_+b,Ub.y-ab+c,Xb,S,S):(nb.beginPath(),nb.arc(Ub.x-_+b,Ub.y-ab+c,Ub.r,j+k,j-k),nb.lineTo(Ub.x-_+b,Ub.y-ab+c),nb.closePath(),nb.fill(),nb.stroke())}var m=pb+2*ob;for(d=0;d<Sb.n;d++){var n=Sb[d],o=1;if(n.dead){if(n.cpt-=10,n.cpt<=0){o=Sb[Sb.n-1],Sb[d]=o,Sb[Sb.n-1]=n,Sb.n--,d--;continue}o=n.cpt/50}else n.cpt<50&&(n.cpt++,o=n.cpt/50);var p=Qb[Ub.elt]==n.elt,q=Ub.elt==n.elt;C(nb,Ab[n.elt][0],Ab[n.elt][0],2),q||(nb.globalAlpha=.2*o,F(nb,n.x-_,n.y-ab,n.r,S),n.elt==Nb&&(nb.globalAlpha=1,nb.globalCompositeOperation="destination-out",F(nb,n.x-_,n.y-ab,17,S),nb.globalCompositeOperation="source-over")),nb.globalAlpha=o,p||q||F(nb,n.x-_,n.y-ab,n.r,T,S),b=0,c=0,p&&(b=3*(N.random()-.5),c=3*(N.random()-.5)),p||(nb.globalAlpha=.5*o),nb.drawImage(rb,n.elt*m,0,m,m,n.x-m/2-_+b,n.y-m/2-ab+c,m,m)}nb.globalAlpha=1,C(nb,null,"#ff0",2);var r,s,u=Tb[0].r,v=2*O,w=_-u,x=_+Y+u,y=ab-u,z=ab+Y+u;for(d=0;d<Tb.n;d++){var A=Tb[d];r=A.x,s=A.y,r>w&&x>r&&s>y&&z>s&&(nb.beginPath(),nb.arc(r-_,s-ab,u,0,v),nb.stroke())}E(jb,gb,-_,-ab),a&&E(jb,kb,0,0),E(jb,mb,0,0)}function g(){for(var a=1;Sb.n<a;){var b;Sb.length==Sb.n?(b=j(Bb,Ib),Sb.push(b),b.elt=Sb.n%4,b.r=qb):b=Sb[Sb.n],Sb.n++;var c=Wb[Sb.n%Wb.length];b.x=c.x,b.y=c.y,b.cpt=0,b.dead=0,b.da=-2*c.da,b.a=c.a,b.d=c.d}var d=!1;Ub.x+Xb<0?(d=!0,Ub.x=50,Ub.y=eb,Ub.sa=0):Ub.x-Xb>db?(d=!0,Ub.x=db-50,Ub.y=eb,Ub.sa=-O):Ub.y+Xb<0?(d=!0,Ub.y=50,Ub.x=eb,Ub.sa=O/2):Ub.y-Xb>db&&(d=!0,Ub.y=db-50,Ub.x=eb,Ub.sa=-O/2),d&&(Yb=!1,$b=0,Ub.elt=Ob,Ub.v.x=0,Ub.v.y=0)}function h(){stb&&stb(),c(),d(),e(),f(),g(),ste&&ste(),window.requestAnimationFrame(h)}function i(){hc=!1,Ub=k(l(eb,db-50,Xb,Db)),Ub.v={x:0,y:0},Ub.cpt=0,Ub.elt=Ob,Ub.sa=-O/2,o(m(0,220,150,100,Gb)),Wb=[];for(var a=4,b=0;a>b;b++){var c=qb+4,d=2*c+(X-2*c)*b/a>>0,e=2*Q()*O,f=l(0,0,c,Fb);Wb.push(k(f));var g=(.2+.2*Q())*(Q()>.5?-1:1);f.da=g/d,f.a=e,f.d=d,b>1&&(f=q(f),f.a+=O,Wb.push(k(f)))}o(m(150,100,300,30,Hb)),Vb=Rb.slice(-8);var h=Vb[0],i=u(h.x-h.x2,h.y-h.y2),n=2*-N.acos((h.x2-h.x)/i);for(b=0;b<Vb.length;b++)h=Vb[b],h.l=i,h.ux=h.x2-h.x,h.uy=h.y2-h.y,h.amax=n,(1==h.elt||2==h.elt)&&(h.amax*=-1);for(Tb=[],Tb.n=50,b=0;b<Tb.n;b++){var p=j(Bb,Jb);p.x=eb+(2*N.random()-1)*X,p.y=eb+(2*N.random()-1)*X,p.r=6,Tb[b]=p}}function j(a,b,c,d){return{x:c||0,y:d||0,shape:a,kind:b}}function k(a){return Rb.push(a),a}function l(a,b,c,d){var e=j(Bb,d,a,b);return e.r=c,e}function m(a,b,c,d,e){var f=j(Cb,e,a,b);return f.x2=c,f.y2=d,f}function n(a){for(var b=0;4>b;b++){var c=q(a);p(c,"x","y",b),c.shape==Cb&&p(c,"x2","y2",b),k(c),c.elt=b}}function o(a){n(a),a.x=U-a.x,a.shape==Cb&&(a.x2=U-a.x2),a.mirror=!0,n(a)}function p(a,b,c,d){var e=a[b],f=a[c];if(0===d||2==d)e+=V+W,0===d&&(f=db-f);else{var g=f;f=V+W+e,e=g,1==d&&(e=db-e)}a[b]=e>>0,a[c]=f>>0}function q(a){return JSON.parse(JSON.stringify(a))}function r(a){return a}function s(a){return db-a}function t(a,b,c){return b>a?b:a>c?c:a}function u(a,b){return P(a*a+b*b)}function v(a,b){b=(b||1)/u(a.x,a.y),a.x*=b,a.y*=b}function w(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.r+b.r;return e*e>c*c+d*d}function x(a,b,c){var d=a.x,e=a.y,f=a.r,g=b.x,h=b.y,i=b.x2,j=b.y2,k=i-g,l=j-h,m=N.sqrt(k*k+l*l),n=(i-g)/m,o=(j-h)/m,p=n*(d-g)+o*(e-h),q=p*n+g,r=p*o+h;if((i>g&&q>=g&&i>=q||g>i&&q>=i&&g>=q||g==i&&q==g)&&(j>h&&r>=h&&j>=r||h>j&&r>=j&&h>=r||h==j&&r==h)){var s=r-e,t=q-d,u=P(t*t+s*s);if(f>=u)return c.ex=q,c.ey=r,c.x=-t,c.y=-s,c.l=u,!0}return!1}function y(a,b,c,d,e){b==d?(a.vert=!0,a.x=b):(a.vert=!1,a.m=(c-e)/(b-d),a.p=c-a.m*b)}function z(a,b,c,d){return a.vert?b<a.x:d?b>(c-a.p)/a.m:c>a.m*b+a.p}function A(a,b){var c=L.createElement("canvas");return c.width=a,c.height=b,c}function B(a){return a.getContext("2d")}function C(a,b,c,d){b&&(a.fillStyle=b),c&&(a.strokeStyle=c),d&&(a.lineWidth=d)}function D(a,b,c,d,e,f){f&&(f.width&&(f=a.createPattern(f,"repeat")),C(a,f)),a.fillRect(b,c,d,e)}function E(a,b,c,d){a.drawImage(b,c,d)}function F(a,b,c,d,e,f){a.beginPath(),a.arc(b,c,d,0,2*O,!1),e&&a.fill(),f&&a.stroke()}function G(a,b,c,d,e){a.beginPath(),a.moveTo(b,c),a.lineTo(d,e),a.stroke()}function H(a){a.clearRect(0,0,Y,Z)}function I(a,b){b||(b=window.e);var c=b.keyCode;b.charCode&&!c&&(c=b.charCode),kc[mc[c]]=a}function J(a,b){var c,d;"which"in b?(c=3==b.which,d=2==b.which):"button"in b&&(c=2==b.button,d=1==b.button),c?lc.right=a:d?lc.middle=a:lc.left=a,lc.x=b.clientX+_,lc.y=b.clientY+ab}var K=window,L=K.document,M=L.body,N=K.Math,O=N.PI,P=N.sqrt,Q=N.random,R=String.fromCharCode,S=!0,T=!1,U=700,V=220,W=200,X=W+U/2;X=u(X,X)-W>>0;var Y,Z,$,_,ab,bb,cb,db=U+2*V+2*W,eb=db/2,fb=20,gb=A(db,db),hb=B(gb),ib=A(),jb=B(ib),kb=A(),lb=B(kb),mb=A(),nb=B(mb),ob=4,pb=40,qb=pb-2,rb=A(4*(pb+2*ob),pb+2*ob),sb=B(rb);window.onresize=function(){Y=t(K.innerWidth,U,db),Z=t(K.innerHeight,U,db),$=N.min(Y,Z),mb.width=kb.width=ib.width=Y-=Y%2,mb.height=kb.height=ib.height=Z-=Z%2},M.onresize(),M.appendChild(ib);var tb="#111",ub="#222",vb="#333",wb="#444",xb="#08e",yb="#000",zb="#0d0",Ab=[["#aef","#5af"],["#fa0","#f53"],["#a64","#864"],["rgba(255,255,255,0.5","#fff"],["#ff6","#555"]],Bb="c",Cb="l",Db="b",Eb="bg",Fb="bp",Gb="o",Hb="p",Ib="m",Jb="ring",Kb=0,Lb=1,Mb=2,Nb=3,Ob=4,Pb=["Water","Fire","Earth","Air"],Qb={};Qb[Kb]=Lb,Qb[Lb]=Kb,Qb[Mb]=Nb,Qb[Nb]=Mb;var Rb,Sb,Tb,Ub,Vb,Wb,Xb=14,Yb=!1,Zb=100,$b=0,_b=0,ac=0,bc=10,cc=.2,dc=1,ec=12,fc=.2*bc,gc=.8*bc,hc=!1,ic={},jc={},kc={},lc={};b(),h();var mc={37:"left",65:"left",81:"left",38:"up",90:"up",87:"up",83:"down",40:"down",39:"right",68:"right",32:"space",27:"esc",13:"Enter"};L.onkeyup=function(a){I(!1,a),27==a.keyCode&&(window._stopped?(window._stopped=!1,window.requestAnimationFrame=window._raf):(window._stopped=!0,window._raf=window.requestAnimationFrame,window.requestAnimationFrame=function(){})),13==a.keyCode&&window._stopped&&h()},L.onkeydown=function(a){I(!0,a)},L.onmousedown=function(a){J(!0,a)},L.onmouseup=function(a){J(!1,a)},L.onmousemove=function(a){lc.x=a.clientX+_,lc.y=a.clientY+ab},L.oncontextmenu=function(){return!1}};